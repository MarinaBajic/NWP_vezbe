<div class="create-product">
  <h3>Create new Product</h3>

  <div>
    <h4 class="error">{{ message }}</h4>
    <form (ngSubmit)="createProduct(productForm)" #productForm="ngForm">
      <div ngModelGroup="product">
        <div class="mb-3">
          <label class="form-label">Product Name</label>
          <input
            type="text"
            class="form-control"
            ngModel
            #productName="ngModel"
            name="name"
            required
          />
          @if ((productName.touched || message) && productName.invalid) {
          <div class="error mt-2">Product name is required</div>
          }
        </div>
        <div class="mb-3">
          <label class="form-label">Price</label>
          <input
            type="number"
            class="form-control"
            ngModel
            name="price"
            #productPrice="ngModel"
            step="0.01"
            required
          />
          @if ((productPrice.touched || message) && productPrice.invalid) {
          <div class="error mt-2">Product price is required</div>
          }
        </div>
        <div class="mb-3">
          <label class="form-label">Image URL</label>
          <input
            type="text"
            class="form-control"
            ngModel
            name="imageUrl"
            #productImageUrl="ngModel"
            pattern="^http(s?)\://[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,3}(/\S*)?$"
            required
          />
          @if ((productImageUrl.touched || message) && productImageUrl.invalid)
          {
          <div class="error mt-2">
            @if (productImageUrl.errors?.['required']) {
            <div>Product Image URL is required</div>
            } @if (productImageUrl.errors?.['pattern']) {
            <div>Product Image URL does not seem to be a valid URL</div>
            }
          </div>
          }
        </div>
        <div class="mb-3">
          <input
            type="checkbox"
            class="form-check-input me-2"
            ngModel
            name="isOnSale"
          />
          <label class="form-check-label">On Sale</label>
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Create</button>
    </form>
  </div>
</div>
